#!/usr/bin/python2

import sys
from xml.dom.minidom import parse, parseString
from pprint import pprint as pp
from formencode import doctest_xml_compare as xmlc
from lxml import etree

class kmlStyle:
    def __init__(self,scale,img,x,y,xu,yu):
        self.scale, self.img, self.x, self.y, self.xu, self.yu = \
            scale, img, x, y, xu, yu

def kmlStyles(dom):
    pass

if __name__ == "__main__":
    dom = parse(sys.stdin)

    # http://stackoverflow.com/questions/3007330/xml-comparison-in-python
    # http://www.blog.pythonlibrary.org/2010/11/12/python-parsing-xml-with-minidom/

#    print dom.nodeType

    onlyStyles = []

    for style in dom.getElementsByTagName('kml')[0].getElementsByTagName('Document')[0].getElementsByTagName('Style'):
        basically = etree.tostring(etree.fromstring(style.getElementsByTagName('IconStyle')[0].toxml(encoding="utf-8")),pretty_print="False")
        print "z", style.getAttribute("id"), basically
#        print style.getAttribute("id"), style.getElementsByTagName('IconStyle')[0].toprettyxml(indent='gg',newl='bb')
#style.getElementsByTagName('IconStyle')[0].getElementsByTagName('scale')[0].nodeValue, ".."

    sys.exit(0)
