#!/usr/bin/bash

while true; do
	transmission-remote -t all -pi | grep -viE '^(Address|$)' | awk 'BEGIN {
	UPSP=0.00
	DNSP=0.00
} function numeric(arg) {
	return (arg ~ /^[0-9.]+$/)
}{
	if (numeric($5)) {
		UPSP += $5
	}
	if (numeric($4)) {
		DNSP += $4
	}
} END {
	printf("  %s    ",DNSP "/" UPSP)
}'
	echo -ne "\r"$(date +%a\ %I:%M:%S\ %p)" "
	sleep "$1"
done

echo
